{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { map, Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ProductService {\n  constructor(http) {\n    this.http = http;\n    this.error = new Subject();\n  }\n  createProduct(products) {\n    console.log(products);\n    const headers = new HttpHeaders({\n      myHeader: 'procademy'\n    });\n    this.http.post('https://angularbymahfuz-default-rtdb.firebaseio.com/products.json', products, {\n      headers: headers\n    }).subscribe(res => {\n      console.log(res);\n    });\n  }\n  fetchProduct() {\n    return this.http.get('https://angularbymahfuz-default-rtdb.firebaseio.com/products.json').pipe(map(res => {\n      const products = [];\n      for (const key in res) {\n        if (res.hasOwnProperty(key)) {\n          products.push({\n            ...res[key],\n            id: key\n          });\n        }\n      }\n      return products;\n    }));\n  }\n  deleteProduct(id) {\n    this.http.delete('https://angularbymahfuz-default-rtdb.firebaseio.com/products/' + id + '.json').subscribe();\n  }\n  deleteAllProducts() {\n    this.http.delete('https://angularbymahfuz-default-rtdb.firebaseio.com/products.json').subscribe();\n  }\n  updateProduct(id, value) {\n    this.http.put('https://angularbymahfuz-default-rtdb.firebaseio.com/products/' + id + '.json', value).subscribe();\n  }\n}\nProductService.ɵfac = function ProductService_Factory(t) {\n  return new (t || ProductService)(i0.ɵɵinject(i1.HttpClient));\n};\nProductService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProductService,\n  factory: ProductService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAAA,SAAqBA,WAAW,QAAQ,sBAAsB;AAE9D,SAASC,GAAG,EAAEC,OAAO,QAAQ,MAAM;;;AAGnC,OAAM,MAAOC,cAAc;EAEzBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IADxB,UAAK,GAAG,IAAIH,OAAO,EAAU;EACU;EACvCI,aAAa,CAACC,QAAwD;IACpEC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACrB,MAAMG,OAAO,GAAG,IAAIV,WAAW,CAAC;MAAEW,QAAQ,EAAE;IAAW,CAAE,CAAC;IAE1D,IAAI,CAACN,IAAI,CACNO,IAAI,CACH,mEAAmE,EACnEL,QAAQ,EACR;MAAEG,OAAO,EAAEA;IAAO,CAAE,CACrB,CACAG,SAAS,CAAEC,GAAG,IAAI;MACjBN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;IAClB,CAAC,CAAC;EACN;EACAC,YAAY;IACV,OAAO,IAAI,CAACV,IAAI,CACbW,GAAG,CACF,mEAAmE,CACpE,CACAC,IAAI,CACHhB,GAAG,CAAEa,GAAG,IAAI;MACV,MAAMP,QAAQ,GAAG,EAAE;MACnB,KAAK,MAAMW,GAAG,IAAIJ,GAAG,EAAE;QACrB,IAAIA,GAAG,CAACK,cAAc,CAACD,GAAG,CAAC,EAAE;UAC3BX,QAAQ,CAACa,IAAI,CAAC;YAAE,GAAGN,GAAG,CAACI,GAAG,CAAC;YAAEG,EAAE,EAAEH;UAAG,CAAE,CAAC;;;MAG3C,OAAOX,QAAQ;IACjB,CAAC,CAAC,CACH;EACL;EACAe,aAAa,CAACD,EAAU;IACtB,IAAI,CAAChB,IAAI,CACNkB,MAAM,CACL,+DAA+D,GAC7DF,EAAE,GACF,OAAO,CACV,CACAR,SAAS,EAAE;EAChB;EACAW,iBAAiB;IACf,IAAI,CAACnB,IAAI,CACNkB,MAAM,CACL,mEAAmE,CACpE,CACAV,SAAS,EAAE;EAChB;EACAY,aAAa,CAACJ,EAAU,EAAEK,KAAc;IACtC,IAAI,CAACrB,IAAI,CACNsB,GAAG,CACF,+DAA+D,GAC7DN,EAAE,GACF,OAAO,EACTK,KAAK,CACN,CACAb,SAAS,EAAE;EAChB;;AA3DWV,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;SAAdA,cAAc;EAAAyB,SAAdzB,cAAc;EAAA0B,YADD;AAAM","names":["HttpHeaders","map","Subject","ProductService","constructor","http","createProduct","products","console","log","headers","myHeader","post","subscribe","res","fetchProduct","get","pipe","key","hasOwnProperty","push","id","deleteProduct","delete","deleteAllProducts","updateProduct","value","put","factory","providedIn"],"sourceRoot":"","sources":["I:\\AngularBasics\\angular-http\\src\\app\\Service\\products.service.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { map, Subject } from 'rxjs';\r\nimport { Product } from '../model/products';\r\n@Injectable({ providedIn: 'root' })\r\nexport class ProductService {\r\n  error = new Subject<string>();\r\n  constructor(private http: HttpClient) {}\r\n  createProduct(products: { pName: string; desc: string; price: string }) {\r\n    console.log(products);\r\n    const headers = new HttpHeaders({ myHeader: 'procademy' });\r\n\r\n    this.http\r\n      .post<{ name: string }>(\r\n        'https://angularbymahfuz-default-rtdb.firebaseio.com/products.json',\r\n        products,\r\n        { headers: headers }\r\n      )\r\n      .subscribe((res) => {\r\n        console.log(res);\r\n      });\r\n  }\r\n  fetchProduct() {\r\n    return this.http\r\n      .get<{ [key: string]: Product }>(\r\n        'https://angularbymahfuz-default-rtdb.firebaseio.com/products.json'\r\n      )\r\n      .pipe(\r\n        map((res) => {\r\n          const products = [];\r\n          for (const key in res) {\r\n            if (res.hasOwnProperty(key)) {\r\n              products.push({ ...res[key], id: key });\r\n            }\r\n          }\r\n          return products;\r\n        })\r\n      );\r\n  }\r\n  deleteProduct(id: string) {\r\n    this.http\r\n      .delete(\r\n        'https://angularbymahfuz-default-rtdb.firebaseio.com/products/' +\r\n          id +\r\n          '.json'\r\n      )\r\n      .subscribe();\r\n  }\r\n  deleteAllProducts() {\r\n    this.http\r\n      .delete(\r\n        'https://angularbymahfuz-default-rtdb.firebaseio.com/products.json'\r\n      )\r\n      .subscribe();\r\n  }\r\n  updateProduct(id: string, value: Product) {\r\n    this.http\r\n      .put(\r\n        'https://angularbymahfuz-default-rtdb.firebaseio.com/products/' +\r\n          id +\r\n          '.json',\r\n        value\r\n      )\r\n      .subscribe();\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}